\usepackage{amssymb, amsfonts, amsthm}
\usepackage{amsmath}
\usepackage{pifont}

\usepackage[T1,T2A]{fontenc}
\usepackage[utf8]{inputenc}

\usepackage[hyphens]{url}
\usepackage[colorlinks=true,citecolor=black,linkcolor=black,anchorcolor=black,filecolor=black,menucolor=black,urlcolor=black]{hyperref}
\usepackage{caption}%provides \caption*
\usepackage[russian,german,english]{babel}
\usepackage{epigraph}
 



\usepackage{epsfig,lpic,wrapfig}
%\usepackage{multicol}


%\usepackage[nottoc]{tocbibind}%adds index to ToC

%\csname @openrightfalse\endcsname %chapters can start from left page

\usepackage[
sorting=debug,
bibencoding=auto,
backend=biber,
maxnames=10,
%babel=other,
%autolang=other,
doi=false,
url=false,
style=numeric-comp,
isbn=false]{biblatex}
\usepackage{csquotes}

\AtBeginDocument{%removes the last "and" in author field
    \renewcommand*{\finalnamedelim}{,\space}
}


\AtEveryBibitem{\clearlist{language}}
\AtEveryBibitem{\clearlist{note}}
\renewbibmacro{in:}{}
\renewcommand*{\bibfont}{\scriptsize}

\addbibresource{library.bib}

\DeclareFieldFormat{postnote}{#1}
\DeclareFieldFormat{multipostnote}{#1}
\DeclareFieldFormat{pages}{#1}
%removes p. in the cites



% Fix latex
\def\smallskip{\vskip\smallskipamount}
\def\medskip{\vskip\medskipamount}
\def\bigskip{\vskip\bigskipamount}

%RUSSIAN STYLE
\def\emptyset{\varnothing}

%MY STYLE
\def\parit#1{\medskip\noindent{\it #1}}
\def\parbf#1{\medskip\noindent{\bf #1}}
\def\qeds{\qed\par\medskip}%END OF PROOF
\def\qedsf{\vskip-6mm\qeds}%END OF PROOF BY FORMULA

\def\epsilon{\varepsilon}
\def\phi{\varphi}

\def\ge{\geqslant}
\def\le{\leqslant}
\def\geq{\ge}
\def\leq{\le}

\def\df{\mathrel{:=}}

\def\:{\colon}
\newcommand*{\set}[2]%{\left\{\,{#1}\,:\,{#2}\,\right\}}
{\ifthenelse{\equal{#2}{}}{\left\{\,{#1}\,\right\}}{\left\{\,{#1}\,:\,{#2}\,\right\}}}

%THEOREM
\newcounter{thm}[section]
\renewcommand{\thethm}{\thesection.\arabic{thm}}
\newcommand\claim[2][{}]{\par\medskip\noindent\refstepcounter{thm}\hbox{\bf \thesection.\arabic{thm}. #2.#1}
\it\ %\ignorespaces
}
\def\endclaim{
\par\medskip}
\newenvironment{thm}{\claim}{\endclaim}

%NOTATIONS
\def\area{\mathop{\rm area}\nolimits}
\def\cross{\mathop{\rm cross}\nolimits}
\def\DD{\mathbb{D}}
\def\RR{\mathbb{R}}
\def\ZZ{\mathbb{Z}}
\def\solidtriangle{\text{\ding{115}}}

\newcommand*{\tc}[1]{\ifthenelse{\equal{#1}{}}{\Phi}{\Phi({#1})}}%toatal curvature \tc\gamma produces \Phi(\gamma)
\newcommand*{\tgc}[1]{\ifthenelse{\equal{#1}{}}{\Psi}{\Psi({#1})}}%toatal signed/geodesic curvature \tgc\gamma produces \Psi(\gamma)


\newcommand*{\z}[1]{#1\nobreak\discretionary{}%
            {\hbox{$\mathsurround=0pt #1$}}{}}
            
\let\oldcdot\cdot
\def\cdot{{\hskip0.5pt\z\oldcdot\hskip0.5pt}}%\cdot with smaller spaces

\hyphenation{% 
col-lin-e-ar 
geo-de-sic  
half-space
Loba-chev-skian
Py-thag-o-re-an
re-pa-ra-met-ri-za-tion
pa-ra-met-ri-zed
semi-pe-ri-me-ter
гео-мет-ри-чес-кий
то-по-ло-ги-чес-кого}


%LIST STILES
\renewcommand{\@listI}{%
\leftmargin=25pt
\rightmargin=0pt
\labelsep=5pt
\labelwidth=20pt
\itemindent=0pt
\listparindent=0pt
\topsep=0pt plus 1pt
\partopsep=\topsep
\parsep=\topsep
\itemsep=\topsep}

%ITEMIZE-first order sign
\renewcommand{\labelitemi}{$\mathsurround=0pt \diamond$}
\renewcommand{\labelitemii}{$\mathsurround=0pt \circ$}
%chaptername
%\renewcommand{\chaptername}{}

%NUMBERONCIRC
\newcommand*{\numform}[1]{\@numform{\@nameuse{c@#1}}}
\newcommand*{\@numform}[1]%
{\ifcase #1\or \ding{202}\or \ding{203}\or \ding{204}\or \ding{205}\or \ding{206}\or \ding{207}\or \ding{208}\or \ding{209}\or \ding{210}\or \ding{211}\or \ding{74}\or \ding{168} \or \ding{170}\or \ding{171}\or\ding{169}\else\@ctrerr \fi}

%EQNUMBER
\newcounter{eqtn}[section]
\renewcommand{\@eqnnum}{\theeqtn}
\renewcommand{\theeqtn}{\numform{eqtn}}
\newcommand{\eqlbl}[1]{\refstepcounter{eqtn}\leqno\text{\numform{eqtn}\label{#1}}}
\newcommand{\eqtag}[1]{\refstepcounter{eqtn}\tag*{\numform{eqtn}\label{#1}}}

%CLAIM
\def\clmclaim#1{\par\medskip\noindent\refstepcounter{eqtn}\hbox{\rm\numform{eqtn} #1}
\it%\ignorespaces
}
\def\endclmclaim{\par
\medskip}
\newenvironment{clm}{\clmclaim}{\endclmclaim}

%SUBTHEOREM 
\newcounter{subthm}[thm]
\renewcommand{\thesubthm}{\thethm\textit{\hskip-0.03em \alph{subthm}}}
\newcounter{clone}[thm]
\renewcommand{\theclone}{\textit{(\alph{subthm})}}
\newenvironment{subthm}[1]{\ifthenelse{\equal{#1}{}}
{\par\refstepcounter{subthm}\begin{itemize}\item[(\alph{subthm})]}{\par\refstepcounter{subthm}\label{#1}\setcounter{clone}{\value{subthm}} \addtocounter{clone}{-1}\refstepcounter{clone}\label{SHORT.#1}\begin{itemize}
\item [(\alph{subthm})]}}{\end{itemize}}

%SUBTHEOREM A
\newcounter{subthmA}[thm]
\renewcommand{\thesubthmA}{\thethm\textit{\hskip-0.05em \Alph{subthmA}}}
\newcounter{cloneA}[thm]
\renewcommand{\thecloneA}{\textit{(\Alph{subthmA})}}
\newenvironment{subthmA}[1]{\ifthenelse{\equal{#1}{}}
{\par\refstepcounter{subthmA}\begin{itemize}\item[(\Alph{subthmA})]}{\par\refstepcounter{subthmA}\label{#1}\setcounter{cloneA}{\value{subthmA}} \addtocounter{cloneA}{-1}\refstepcounter{cloneA}\label{SHORT.#1}\begin{itemize}
\item [(\Alph{subthmA})]}}{\end{itemize}}
%SUBTHEOREM 1
\newcounter{subthmN}[thm]
\renewcommand{\thesubthmN}{\thethm-\arabic{subthmN}}
\newcounter{cloneN}[thm]
\renewcommand{\thecloneN}{\arabic{subthmN}}
\newenvironment{subthmN}[1]{\ifthenelse{\equal{#1}{}}
{\par\refstepcounter{subthmN}\begin{itemize}\item[\arabic{subthmN})]}{\par\refstepcounter{subthmN}\label{#1}\setcounter{cloneN}{\value{subthmN}} \addtocounter{cloneN}{-1}\refstepcounter{cloneN}\label{SHORT.#1}\begin{itemize}
\item [\arabic{subthmN})]}}{\end{itemize}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\a{\operatorname{area}}
\def\cone{\operatorname{cone}}
\def\Hess{\operatorname{Hess}}
\def\div{\operatorname{div}}
\def\dvol{\operatorname{dvol}}
\def\Jac{\operatorname{Jac}}
\def\length{\operatorname{length}}
\def\aplim{\operatorname{aplim}}
\def\tr{\operatorname{tr}}
\def\Fill{\operatorname{Fill}}
\def\dev{\operatorname{dev}}
\def\ext{\operatorname{ext}}
\def\diam{\operatorname{diam}}
\def\rank{\operatorname{rank}}
\def\pol{\operatorname{pol}}
\def\rad{\operatorname{rad}}
\def\id{\operatorname{id}}



\def\acts{\curvearrowright}
\def\D{\partial}
\def\restr{\mbox{\large \(|\)\normalsize}}
\def\R{\mathbb R}
\def\Z{\mathbb Z}
\def\S{\mathbb S}
\def\E{\mathbb E}
\def\N{\mathbb N}
\def\Ha{\mathcal H}

\newcommand{\F}{F}
\newcommand{\G}{\Theta}
\newcommand{\Fi}{\F_\infty}
\newcommand{\Gi}{\G_\infty}

\def\al{\alpha}
\def\de{\delta}
\def\del{\delta}
\def\ka{\kappa}
\def\De{\Delta}
\def\Del{\Delta}
\def\eps{\epsilon}
\def\ga{\gamma}
\def\Ga{\Gamma}
\def\half{{1 \over 2}}
\def\la{\lambda}
\def\La{\Lambda}
\def\lra{\longrightarrow}
\def\Lra{\Longrightarrow}
\def\Tau{{\cal T}}
\newcommand{\oa}[1]{\stackrel{\ra}{#1}}
\def\overarrow{\oa}
\def\embed{\hookrightarrow}
\def\ol{\overline}
\def\om{\omega}
\def\Om{\Omega}
\def\ra{\rightarrow}
\def\Ra{\Rightarrow}
\def\si{\sigma}
\def\Si{\Sigma}
\def\tangle{\angle_{Tits}}
\def\tits{\partial_{T}}
\def\geo{\partial_{\infty}}
\def\etits{\partial^{ess}_{T}}




\newcommand{\bH}{{\mathbf H}}
\newcommand{\bI}{{\mathbf I}}
\newcommand{\bZ}{{\mathbf Z}}
\newcommand{\M}{{\mathbf M}}

\newcommand{\cC}{{\mathscr C}}
\newcommand{\cD}{{\mathscr D}}
\newcommand{\cF}{{\mathscr F}}
\newcommand{\cI}{{\mathscr I}}
\newcommand{\cL}{{\mathscr L}}
\newcommand{\cN}{{\mathscr N}}
\newcommand{\cP}{{\mathscr P}}
\newcommand{\cS}{{\mathscr S}}
\newcommand{\cZ}{{\mathscr Z}}
\newcommand{\on}{\:\mbox{\rule{0.1ex}{1.2ex}\rule{1.1ex}{0.1ex}}\:}

\def\wlim{\mathop{\hbox{$\om$-lim}}}

\def\acts{\curvearrowright}
\def\interior{\operatorname{int}}
\def\Isom{\mathop{\hbox{Isom}}}
\def\Stab{\mathop{\hbox{Stab}}}
\def\spt{\operatorname{spt}}

\def\<{\langle}
\def\>{\rangle}

\newcommand{\bb}[1]{\llbracket #1\rrbracket} 
% double brackets, requires package stmaryrd
  

\newcommand{\cs}{\text{\rm c}} %roman subscript for compact support
%\newcommand{\C}{\text{\rm C}} %for cones
\newcommand{\loc}{\text{\rm loc}}


\theoremstyle{plain}
%\newtheorem{thm}{Theorem}[section]
\newtheorem{lem}[thm]{Lemma}
\newtheorem{prop}[thm]{Proposition}
\newtheorem{cor}[thm]{Corollary}
\newtheorem{slem}[thm]{Sublemma}
\newtheorem{question}[thm]{Question}
\newtheorem{introthm}{Theorem}
\renewcommand{\theintrothm}{\Alph{introthm}}
\newtheorem{introcor}{Corollary}
\renewcommand{\theintrocor}{\Alph{introcor}}

\newtheorem*{conj}{Conjecture}
\newtheorem*{quest}{Question}

\newtheoremstyle{named}{}{}{\itshape}{}{\bfseries}{.}{.5em}{\thmnote{#3} #1}
\theoremstyle{named}
\newtheorem*{namedlemma}{Lemma}

\newtheorem{repropinner}{Proposition}
\newenvironment{reprop}[1]{%
  \renewcommand\therepropinner{#1}%
  \repropinner
}{\endrepropinner}


\theoremstyle{definition}
\newtheorem{dfn}[thm]{Definition}

\theoremstyle{remark}
\newtheorem{rem}[thm]{Remark}
\newtheorem{exmp}[thm]{Example}





\newcommand{\bcl}{\begin{claim}}
\newcommand{\ecl}{\end{claim}}
\newcommand{\bcor}{\begin{cor}}
\newcommand{\ecor}{\end{cor}}
\newcommand{\bdfn}{\begin{dfn}}
\newcommand{\edfn}{\end{dfn}}
%\newcommand{\bdfn}{\begin{definition}}
\newcommand{\ben}{\begin{enumerate}}
\newcommand{\bit}{\begin{itemize}}
\newcommand{\blem}{\begin{lem}}
\newcommand{\bslem}{\begin{slem}}
\newcommand{\bprop}{\begin{prop}}
\newcommand{\bthm}{\begin{thm}}
%\newcommand{\edfn}{\end{definition}}
\newcommand{\een}{\end{enumerate}}
\newcommand{\eit}{\end{itemize}}
\newcommand{\elem}{\end{lem}}
\newcommand{\eslem}{\end{slem}}
\newcommand{\eprop}{\end{prop}}
\newcommand{\ethm}{\end{thm}}

\newcommand{\threestars}{\smash{%
\raisebox{-.6ex}{%
\setlength{\tabcolsep}{.5pt}%
\begin{tabular}{@{}cc@{}}%
\multicolumn2c*\\[-1.7ex]*&*%
\end{tabular}}}}

\newcommand{\fourstars}{\smash{%
\raisebox{-.6ex}{%
\setlength{\tabcolsep}{.5pt}%
\begin{tabular}{@{}cc@{}}%
*&*\\[-1.7ex]*&*%
\end{tabular}}}}
